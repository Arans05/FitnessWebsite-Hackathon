<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitTrack</title>
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="login-container" class="min-h-screen w-full flex-col justify-center items-center p-4 view-container active">
        <div class="w-full max-w-md">
            <div class="flex justify-center items-center mb-8">
                <svg class="h-12 w-12 text-indigo-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-6-6h12" />
                </svg>
                <h1 class="text-4xl font-bold text-center text-white ml-2">FitTrack</h1>
            </div>
            <div id="login-form" class="bg-gray-900 p-8 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold mb-6 text-center">Login</h2>
                <input type="email" id="login-email" placeholder="Email" class="w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 mb-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <input type="password" id="login-password" placeholder="Password" class="w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 mb-6 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <button id="login-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition-colors">Login</button>
                <p class="text-center text-gray-400 mt-4">Don't have an account? <a href="#" id="show-signup" class="text-blue-400 hover:underline">Sign Up</a></p>
                <p id="login-error" class="text-red-500 text-center mt-2"></p>
            </div>
            <div id="signup-form" class="bg-gray-900 p-8 rounded-lg shadow-lg" style="display: none;">
                <h2 class="text-2xl font-bold mb-6 text-center">Sign Up</h2>
                <input type="text" id="signup-username" placeholder="Username" class="w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 mb-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <input type="email" id="signup-email" placeholder="Email" class="w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 mb-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <input type="password" id="signup-password" placeholder="Password" class="w-full bg-gray-800 border border-gray-700 rounded-md px-4 py-2 mb-6 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <button id="signup-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition-colors">Sign Up</button>
                <p class="text-center text-gray-400 mt-4">Already have an account? <a href="#" id="show-login" class="text-blue-400 hover:underline">Login</a></p>
                <p id="signup-error" class="text-red-500 text-center mt-2"></p>
            </div>
        </div>
    </div>

    <div id="app-container" class="min-h-screen w-full view-container">
        <nav class="main-nav">
            <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <div class="flex h-20 items-center justify-between">
                    <div class="flex items-center">
                        <a href="#" id="nav-logo" class="flex items-center space-x-2">
                           <svg class="h-10 w-10 text-indigo-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-6-6h12" />
                            </svg>
                            <span class="text-white font-bold text-2xl">FitTrack</span>
                        </a>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="#" id="nav-dashboard" class="nav-link">Dashboard</a>
                            <a href="#" id="nav-workouts" class="nav-link">Workouts</a>
                            <a href="#" id="nav-progress" class="nav-link">Progress</a>
                            <a href="#" id="nav-nutrition" class="nav-link">Nutrition</a>
                            <a href="#" id="nav-community" class="nav-link">Community</a>
                            <a href="#" id="nav-profile" class="nav-link">Profile</a>
                        </div>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-4 flex items-center md:ml-6">
                            <button id="theme-toggle" class="theme-toggle-btn">
                                <svg id="theme-icon-dark" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" /></svg>
                                <svg id="theme-icon-light" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" /></svg>
                            </button>
                            <div class="relative ml-3">
                                <div>
                                    <button type="button" class="flex max-w-xs items-center rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800" id="user-menu-button" aria-expanded="false" aria-haspopup="true">
                                        <img class="h-8 w-8 rounded-full" id="profile-pic-nav" src="https://placehold.co/32x32/0f172a/FFF?text=U" alt="">
                                    </button>
                                </div>
                                <div id="profile-dropdown" class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none hidden" role="menu" aria-orientation="vertical">
                                    <a href="#" id="nav-profile-dropdown" class="block px-4 py-2 text-sm text-gray-700" role="menuitem">Your Profile</a>
                                    <a href="#" id="nav-settings-dropdown" class="block px-4 py-2 text-sm text-gray-700" role="menuitem">Settings</a>
                                    <a href="#" id="sign-out-btn" class="block px-4 py-2 text-sm text-gray-700" role="menuitem">Sign out</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="-mr-2 flex md:hidden">
                        <button type="button" id="mobile-menu-button" class="inline-flex items-center justify-center rounded-md bg-gray-800 p-2 text-gray-400 hover:bg-gray-700 hover:text-white">
                            <svg id="mobile-menu-open-icon" class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>
                            <svg id="mobile-menu-close-icon" class="hidden h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="space-y-1 px-2 pt-2 pb-3 sm:px-3">
                    <a href="#" id="mobile-nav-dashboard" class="nav-link block">Dashboard</a>
                    <a href="#" id="mobile-nav-workouts" class="nav-link block">Workouts</a>
                    <a href="#" id="mobile-nav-progress" class="nav-link block">Progress</a>
                    <a href="#" id="mobile-nav-nutrition" class="nav-link block">Nutrition</a>
                    <a href="#" id="mobile-nav-community" class="nav-link block">Community</a>
                    <a href="#" id="mobile-nav-profile" class="nav-link block">Profile</a>
                </div>
                <div class="border-t border-gray-700 pt-4 pb-3">
                    <div class="flex items-center px-5">
                        <img class="h-10 w-10 rounded-full" id="profile-pic-nav-mobile" src="https://placehold.co/40x40/0f172a/FFF?text=U" alt="">
                        <div class="ml-3">
                            <div id="user-display-mobile" class="text-base font-medium text-white"></div>
                        </div>
                    </div>
                    <div class="mt-3 space-y-1 px-2">
                        <a href="#" id="mobile-nav-profile-dropdown" class="block rounded-md px-3 py-2 text-base font-medium text-gray-400">Your Profile</a>
                        <a href="#" id="mobile-nav-settings-dropdown" class="block rounded-md px-3 py-2 text-base font-medium text-gray-400">Settings</a>
                        <a href="#" id="sign-out-btn-mobile" class="block rounded-md px-3 py-2 text-base font-medium text-gray-400">Sign out</a>
                    </div>
                </div>
            </div>
        </nav>

        <main class="flex-grow p-8">
            <div id="dashboard-content" class="page-content">
                <h2 class="welcome-title" id="welcome-message"></h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8">
                    <div class="stat-card calories-card"><div class="stat-icon"><i class="fas fa-utensils"></i></div><p class="stat-title">Calories Eaten</p><p class="stat-value"><span id="calories-consumed">0</span></p></div>
                    <div class="stat-card workouts-card"><div class="stat-icon"><i class="fas fa-fire"></i></div><p class="stat-title">Calories Burned</p><p class="stat-value"><span id="total-calories-burned-dash">0</span></p></div>
                    <div class="stat-card steps-card"><div class="stat-icon"><i class="fas fa-shoe-prints"></i></div><p class="stat-title">Steps Today</p><p class="stat-value"><span id="steps-taken">0</span></p></div>
                    <div class="stat-card water-card"><div class="stat-icon"><i class="fas fa-tint"></i></div><p class="stat-title">Water Intake</p><p class="stat-value"><span id="water-intake">0</span>/2L</p></div>
                </div>
                <div class="mb-8">
                    <h3 class="text-xl font-bold mb-4">Quick Actions</h3>
                    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
                        <button id="log-workout-btn" class="quick-action-btn workout-btn"><i class="fas fa-dumbbell"></i><span>Log Workout</span></button>
                        <button id="add-meal-btn" class="quick-action-btn meal-btn"><i class="fas fa-apple-alt"></i><span>Add Meal</span></button>
                        <button id="add-water-btn" class="quick-action-btn water-btn"><i class="fas fa-glass-whiskey"></i><span>Add Water</span></button>
                        <button id="log-steps-btn" class="quick-action-btn steps-btn"><i class="fas fa-walking"></i><span>Log Steps</span></button>
                    </div>
                </div>
                <div class="quote-card">
                    <i class="fas fa-quote-left quote-icon"></i>
                    <p class="italic text-lg" id="motivational-quote"></p>
                </div>
            </div>

            <div id="workouts-content" class="page-content">
                <h2 class="welcome-title">My Workouts</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="stat-card workout-total-card"><p class="stat-title">Total Workouts</p><p class="stat-value"><span id="total-workouts">0</span></p></div>
                    <div class="stat-card workout-time-card"><p class="stat-title">Total Time</p><p class="stat-value"><span id="total-time">0</span> min</p></div>
                    <div class="stat-card workout-cals-card"><p class="stat-title">Calories Burned</p><p class="stat-value"><span id="total-calories-burned-workouts">0</span></p></div>
                </div>
                <div class="mb-8 flex space-x-4">
                    <button id="add-workout-page-btn" class="action-btn primary-btn"><i class="fas fa-plus mr-2"></i>Log New Workout</button>
                    <button id="create-plan-btn" class="action-btn secondary-btn"><i class="fas fa-stream mr-2"></i>Create Custom Plan</button>
                </div>
                <div class="content-box mb-8">
                    <h3 class="text-2xl font-semibold mb-4">Workout Log</h3>
                    <div class="relative w-full overflow-auto"><table><thead><tr><th>Date</th><th>Workout</th><th>Duration</th><th>Calories Burned</th><th>Notes</th></tr></thead><tbody id="workout-list"></tbody></table></div>
                </div>
                <div class="content-box">
                    <h3 class="text-2xl font-semibold mb-4">My Custom Plans</h3>
                    <div id="custom-plans-list" class="space-y-4"></div>
                </div>
            </div>

            <div id="progress-content" class="page-content">
                <h2 class="welcome-title">Track Your Progress</h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="content-box progress-card-weight">
                        <h3 class="text-2xl font-semibold mb-4">Weight Progress</h3>
                        <div class="chart-container mb-4"><canvas id="weight-chart"></canvas></div>
                        <div class="log-input-group"><input type="number" id="weight-input" placeholder="Enter weight (lbs)" class="form-input"><button id="log-weight-btn" class="action-btn primary-btn">Log Weight</button></div>
                    </div>
                    <div class="content-box progress-card-bodyfat">
                        <h3 class="text-2xl font-semibold mb-4">Body Fat % Progress</h3>
                        <div class="chart-container mb-4"><canvas id="bodyfat-chart"></canvas></div>
                        <div class="log-input-group"><input type="number" id="bodyfat-input" placeholder="Enter body fat %" class="form-input"><button id="log-bodyfat-btn" class="action-btn primary-btn">Log Body Fat</button></div>
                    </div>
                </div>
            </div>

            <div id="nutrition-content" class="page-content">
                <h2 class="welcome-title">Nutrition Hub</h2>
                <div class="mb-8"><button id="add-meal-page-btn" class="action-btn primary-btn"><i class="fas fa-plus mr-2"></i>Log New Meal</button></div>
                <div class="grid gap-8 md:grid-cols-1 lg:grid-cols-3 mb-8">
                    <div class="content-box lg:col-span-2"><h3 class="text-2xl font-semibold mb-4">Today's Meals</h3><ul id="meal-list" class="space-y-4"></ul></div>
                    <div class="content-box"><h3 class="text-2xl font-semibold mb-4">Today's Macros</h3><div class="chart-container"><canvas id="macro-chart"></canvas></div></div>
                </div>
                <div class="content-box"><h3 class="text-2xl font-semibold mb-4">Nutrition Goals</h3><div id="nutrition-goals-content" class="grid gap-6 md:grid-cols-2"></div></div>
            </div>

            <div id="community-content" class="page-content">
                <h2 class="welcome-title">Community Leaderboards</h2>
                <div class="content-box">
                    <div class="flex border-b border-gray-700">
                        <button id="leaderboard-tab-workouts" class="leaderboard-tab active">Workouts</button>
                        <button id="leaderboard-tab-steps" class="leaderboard-tab">Steps</button>
                    </div>
                    <div class="mt-4">
                        <div class="flex justify-center mb-4 p-1 bg-gray-700 rounded-lg">
                            <button id="timeframe-daily" class="timeframe-btn active">Daily</button>
                            <button id="timeframe-weekly" class="timeframe-btn">Weekly</button>
                            <button id="timeframe-all" class="timeframe-btn">All Time</button>
                        </div>
                        <div id="leaderboard-workouts-content">
                            <table><thead><tr><th>Rank</th><th>User</th><th>Workouts</th></tr></thead><tbody id="leaderboard-body-workouts"></tbody></table>
                        </div>
                        <div id="leaderboard-steps-content" style="display: none;">
                            <table><thead><tr><th>Rank</th><th>User</th><th>Total Steps</th></tr></thead><tbody id="leaderboard-body-steps"></tbody></table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="profile-content" class="page-content">
                <div class="flex items-center space-x-6 mb-6">
                    <img id="profile-pic-main" class="h-24 w-24 rounded-full" src="https://placehold.co/96x96/0f172a/FFF?text=U" alt="">
                    <div><h2 class="text-3xl font-bold" id="profile-username"></h2><p id="profile-fitness-level"></p></div>
                </div>
                <p class="mb-6" id="profile-bio"></p>
                <div class="grid gap-6 md:grid-cols-2">
                    <div class="card p-6"><h3 class="text-2xl font-semibold mb-4">Workout Streak</h3><p class="text-6xl font-bold text-center text-yellow-400"><span id="profile-streak-display">0</span> Days</p></div>
                    <div class="card p-6"><h3 class="text-2xl font-semibold mb-4">Achievements</h3><div id="badges-display" class="grid grid-cols-3 gap-4"></div></div>
                </div>
                 <div class="card p-6 mt-6"><h3 class="text-2xl font-semibold mb-4">Personal Bests</h3><div id="personal-bests-display" class="space-y-2"></div></div>
            </div>

            <div id="settings-content" class="page-content">
                <h2 class="text-3xl font-bold mb-6">Settings</h2>
                <div class="card p-6 max-w-lg mx-auto"><h3 class="text-2xl font-semibold mb-4">Your Profile</h3><div class="space-y-4">
                    <div><label for="profile-bio-input" class="block text-sm">Bio</label><textarea id="profile-bio-input" rows="3" class="form-input"></textarea></div>
                    <div><label for="fitness-level" class="block text-sm">Fitness Level</label><select id="fitness-level" class="form-input"><option>Beginner</option><option>Intermediate</option><option>Advanced</option></select></div>
                    <div><label for="user-weight-input" class="block text-sm">Weight (lbs)</label><input type="number" id="user-weight-input" class="form-input"></div>
                    <div><label for="user-height-input" class="block text-sm">Height (cm)</label><input type="number" id="user-height-input" class="form-input"></div>
                    <div><label for="user-age-input" class="block text-sm">Age</label><input type="number" id="user-age-input" class="form-input"></div>
                    <div><label for="user-gender-select" class="block text-sm">Gender</label><select id="user-gender-select" class="form-input"><option>Male</option><option>Female</option></select></div>
                    <button id="save-settings-btn" class="btn btn-primary">Save Settings</button></div>
                </div>
            </div>
        </main>
    </div>

    <div id="workout-modal" class="modal-backdrop"><div class="card p-6"><h3 class="text-xl font-semibold">Log New Workout</h3><button id="close-workout-modal-btn" class="modal-close-btn">&times;</button><div class="flex flex-col space-y-4"><select id="workout-type-select" class="form-input"><option>Cardio</option><option>Strength</option><option>Yoga</option></select><div id="strength-inputs" class="hidden space-y-4"><input type="text" id="exercise-name-input" p="Exercise Name" class="form-input"><input type="number" id="exercise-weight-input" p="Weight (lbs)" class="form-input"><input type="number" id="exercise-reps-input" p="Reps" class="form-input"></div><input type="number" id="workout-duration-input" p="Duration (minutes)" class="form-input"><input type="number" id="workout-calories-input" p="Calories Burned (optional)" class="form-input"><textarea id="workout-notes-input" p="Notes" class="form-input"></textarea><button id="save-workout-btn" class="btn btn-primary">Save Workout</button></div></div></div>
    <div id="meal-modal" class="modal-backdrop"><div class="card p-6"><h3 class="text-xl font-semibold">Log New Meal</h3><button id="close-meal-modal-btn">&times;</button><div class="space-y-4"><input id="meal-name-input"/><input id="meal-calories-input"/><input id="meal-protein-input"/><input id="meal-carbs-input"/><input id="meal-fat-input"/><button id="save-meal-btn">Save</button></div></div></div>
    <div id="water-modal" class="modal-backdrop"><div class="card p-6">...</div></div>
    <div id="steps-modal" class="modal-backdrop"><div class="card p-6">...</div></div>
    <div id="plan-modal" class="modal-backdrop"><div class="card p-6">...</div></div>

    <div id="notification" class="notification"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js" type="module"></script>
</body>
</html>
